<?xml version="1.0" encoding="UTF-8"?>
<x:description xmlns:x="http://www.jenitennison.com/xslt/xspec"
               xmlns:html="http://www.w3.org/1999/xhtml"
               xmlns:epub="http://www.idpf.org/2007/ops"
               xmlns="http://www.w3.org/1999/xhtml"
               stylesheet="../../main/resources/xml/pre-processing.xsl">
    
    <x:scenario label="automatically give number to noterefs that are not already numbered">
        <x:context>
            <div>
                <span epub:type="noteref">1</span>
                <span epub:type="noteref">2</span>
                <span epub:type="noteref">3</span>
                <span epub:type="noteref">*</span>
                <span epub:type="noteref">*</span>
                <span epub:type="noteref">*</span>
            </div>
        </x:context>
        
        <x:expect>
            <div>
                <span epub:type="noteref">1</span>
                <span epub:type="noteref">2</span>
                <span epub:type="noteref">3</span>
                <span epub:type="noteref">4</span>
                <span epub:type="noteref">5</span>
                <span epub:type="noteref">6</span>
            </div>
        </x:expect>
    </x:scenario>
    
    <x:scenario label="automatically give number to notes that are not already numbered">
        <x:context>
            <div>
                <aside epub:type="note">
                    <p>* lorem ipsum</p>
                    <p>* lorem ipsum</p>
                    <p>* lorem ipsum</p>
                </aside>
                <aside epub:type="footnote">
                    <p>* lorem ipsum</p>
                    <p>* lorem ipsum</p>
                    <p>* lorem ipsum</p>
                </aside>
                <aside epub:type="endnote">
                    <p>* lorem ipsum</p>
                    <p>* lorem ipsum</p>
                    <p>* lorem ipsum</p>
                </aside>
                <aside epub:type="rearnote">
                    <p>* lorem ipsum</p>
                    <p>* lorem ipsum</p>
                    <p>* lorem ipsum</p>
                </aside>
            </div>
        </x:context>
        
        <x:expect>
            <div>
                <aside epub:type="note">
                    <p>1 lorem ipsum</p>
                    <p>* lorem ipsum</p>
                    <p>* lorem ipsum</p>
                </aside>
                <aside epub:type="footnote">
                    <p>2 lorem ipsum</p>
                    <p>* lorem ipsum</p>
                    <p>* lorem ipsum</p>
                </aside>
                <aside epub:type="endnote">
                    <p>3 lorem ipsum</p>
                    <p>* lorem ipsum</p>
                    <p>* lorem ipsum</p>
                </aside>
                <aside epub:type="rearnote">
                    <p>4 lorem ipsum</p>
                    <p>* lorem ipsum</p>
                    <p>* lorem ipsum</p>
                </aside>
            </div>
        </x:expect>
    </x:scenario>
    
    <x:scenario label="rename sectioning elements to 'section'">
        <x:context>
            <div>
                <section id="a"/>
                <article id="b"/>
                <main id="c"/>
            </div>
        </x:context>
        <x:expect>
            <div>
                <section id="a"/>
                <section epub:type="article" id="b"/>
                <section epub:type="main" id="c"/>
            </div>
        </x:expect>
    </x:scenario>
    
    <x:scenario label="move colophon to backmatter (multiple body elements)">
        <x:context>
            <html>
                <body epub:type="cover"/>
                <body epub:type="frontmatter"/>
                <body epub:type="frontmatter colophon"/>
                <body epub:type="bodymatter"/>
                <body epub:type="backmatter"/>
            </html>
        </x:context>
        <x:expect>
            <html>
                <body epub:type="cover"/>
                <body epub:type="frontmatter"/>
                <body epub:type="bodymatter"/>
                <body epub:type="backmatter"/>
                <body epub:type="colophon backmatter"/>
            </html>
        </x:expect>
    </x:scenario>
    
    <x:scenario label="move colophon to backmatter (single body element)">
        <x:context>
            <body>
                <section epub:type="cover"/>
                <section epub:type="frontmatter"/>
                <section epub:type="frontmatter colophon"/>
                <section epub:type="bodymatter"/>
                <section epub:type="backmatter"/>
            </body>
        </x:context>
        <x:expect>
            <body>
                <section epub:type="cover"/>
                <section epub:type="frontmatter"/>
                <section epub:type="bodymatter"/>
                <section epub:type="backmatter"/>
                <section epub:type="colophon backmatter"/>
            </body>
        </x:expect>
    </x:scenario>
    
    <x:scenario label="remove titlepage and print toc (multiple body elements)">
        <x:context>
            <html>
                <body epub:type="cover"/>
                <body epub:type="titlepage"/>
                <body epub:type="toc"/>
            </html>
        </x:context>
        <x:expect>
            <html>
                <body epub:type="cover"/>
            </html>
        </x:expect>
    </x:scenario>
    
    <x:scenario label="remove titlepage and print toc (single body element)">
        <x:context>
            <body>
                <section epub:type="cover"/>
                <section epub:type="titlepage"/>
                <section epub:type="toc"/>
            </body>
        </x:context>
        <x:expect>
            <body>
                <section epub:type="cover"/>
            </body>
        </x:expect>
    </x:scenario>
    
</x:description>
